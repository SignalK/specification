{
    "type": "object",
    "$schema": "http://json-schema.org/draft-03/schema",
    
    "id": "https://signalk.github.io/specification/schemas/signalk.json#",
    "title": "SignalK",
    "description": "Root schema of Signal K. Contains the list of source objects plus a reference to the local server (also contained in the sources list).",

    "properties": {
    	"self": {
    		"type": "string",
    		"description": "This holds the key (MMSI or other unique ID) of this vessel, the actual data is in the sources array.",
    		"required": true
    	},
    	
    	"sources": {
    		"type": "object",
    		"required": true,
    		"description": "An object holding one or more source objects (vessels, marinas, etc), each describing Signal K sources in network range, including this server. ",
			"patternProperties": {
				"(^[2-7][0-9]{9,9}$|^[A-F0-9]{8,8}$)": {
				    "description": "This regex pattern is used for validation of an MMSI or UUID identifier for the source. Source has to conform to one of the following schemas, depending on it's type.",
				  	"oneOf": [
                        { "$ref": "sources/vessel.json#" },
                        { "$ref": "sources/marina.json#" }
                    ]
                } 
			}
    	},

		"resources": { 
			"$ref": "groups/resources.json#" 
        },
    	
    	"source": { "$ref": "definitions.json#/definitions/source" },
    	"timestamp": { "$ref": "definitions.json#/definitions/timestamp" },
    	"version": { "$ref": "definitions.json#/definitions/version" }
    }
}