{
    "type": "object",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "https://signalk.github.io/specification/schemas/signalk.json#",
    "title": "SignalK",
    "description": "Root schema of Signal K. Contains the list of vessels plus a reference to the local boat (also contained in the vessels list).",
    "required": [ "vessels", "version" ],
    "properties": {
        "self": {
            "type": "string",
            "description": "This holds the key (UUID, MMSI or URL) of this vessel, the actual data is in the vessels array."
        },

        "vessels": {
            "type": "object",
            "description": "A wrapper object for vessel objects, each describing vessels in range, including this vessel.",
            "patternProperties": {
                "(^urn:mrn:(imo|signalk):(mmsi:[2-7][0-9]{8,8}|uuid:[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-4[0-9A-Fa-f]{3}-[89ABab][0-9A-Fa-f]{3}-[0-9A-Fa-f]{12}))|^(http(s?):.*|mailto:.*|tel:(\\+?)[0-9]{4,})$": {
                    "description": "This regex pattern is used for validation of an MMSI or Signal K UUID identifier for the vessel. Examples: urn:mrn:imo:mmsi:230099999 urn:mrn:signalk:uuid:c0d79334-4e25-4245-8892-54e8ccc8021d",
                    "$ref": "vessel.json#"
                }
            }
        },

        "sources": {
            "description": "Metadata about the data sources; physical interface, address, protocol, etc.",
            "$ref": "groups/sources.json#"
        },

        "resources": {
            "description": "Resources to aid in navigation and operation of the vessel including waypoints, routes, notes, etc.",
            "$ref": "groups/resources.json#"
        },

        "version": {
            "description": "Version of the schema and APIs that this data is using in Canonical format i.e. V1.0.0.",
            "$ref": "definitions.json#/definitions/version"
        }
    }
}
